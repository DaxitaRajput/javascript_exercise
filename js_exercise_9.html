<html>
<body>

<h2>User details form</h2>
<br/>
<p id="error"></p>
<form id="form1">
Name : <input type="text" id="name"/><br/>
Phone Number : <input type="text" id="phone_number"/><br/>
Email : <input type="email" id="email"/><br/>
Username : <input type="text" id="username"/><br/>
random_id : <input type="text" id="random_id" readonly/><br/>
<button type="submit" onclick="return validate_form()">Submit</button>
</form>

<script>
  window.onload=function(){document.getElementById('random_id').value=Math.random().toString(36).substr(2, 10);}

function validate_form() {
  var email_id = document.getElementById("email").value;
  var number = document.getElementById("phone_number").value;
  var username = document.getElementById("username").value;
  console.log(email_id+number+username);
  var email_reg = /^([a-z0-9_\.\-])+\@(([a-z0-9\-])+\.)+([a-z0-9]{2,4})+$/;
  var username_reg = /^([a-zA-Z-_])+$/;
  console.log("after regex");

  if (!email_id.match(email_reg)){
  console.log("in email valid");
  document.getElementById("error").style.color = "red";
  document.getElementById("error").innerHTML =document.getElementById("error").innerHTML+"Invalid Email Address <br/>"+ email_id;
  document.getElementById("email").focus();
  return false;
  }
  else if(isNaN(number)){
  console.log("in phone number valid");    
    document.getElementById("error").style.color ="red";
    document.getElementById("error").innerHTML = document.getElementById("error").innerHTML+"Please enter number only in phone number<br/>";
    document.getElementById("phone_number").focus();
    return false;
  }
  else if(!username.match(username_reg))
  {
  console.log("in username valid");    
    document.getElementById("error").style.color ="red";
    document.getElementById("error").innerHTML = document.getElementById("error").innerHTML+"Please enter only letters and (- or _) in username<br/>";
    document.getElementById("username").focus();
    return false;
  }

  else{
      console.log("in else valid");    
      document.getElementById("error").innerHTML ="</br>";
      return true;
  }
  }
  
</script>

</body>
</html>

 